{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileStatus/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["module","exports","ProfileStatus","props","useState","editMode","setEditMode","status","setStatus","useEffect","autoFocus","onChange","e","currentTarget","value","onBlur","updateUserStatus","onDoubleClick","ProfileDataReduxForm","reduxForm","form","profile","handleSubmit","offEditMode","error","onSubmit","onClick","className","style","formSummaryError","createField","InputElement","type","TextareaElement","Object","keys","contacts","map","key","s","contact","toLocaleLowerCase","ProfileData","isOwner","onEditMode","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contacts","ProfileInfo","onSavePhoto","saveProfile","divContentImg","src","alt","descriptionBlock","photos","large","userPhoto","mainPhoto","Preloader","target","files","length","formData","then","initialValues","Post","item","message","likesCount","ProfileAddMessageReduxForm","Field","component","TextArea","name","placeholder","validate","required","maxLength10","maxLengthCreator","Element","MyPosts","postsElement","posts","p","id","reverse","postsBlock","profileMyPostsFormData","addPostHandler","profileMyPostsMessage","MyPostsContainer","connect","state","profilePage","dispatch","text","addPostAC","Profile","ProfileContainer","refreshProfile","userId","Number","match","params","authorizedUserId","history","push","getUserProfile","getUserStatus","this","prevProps","prevState","snapshot","savePhoto","React","Component","mapDispatchToProps","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.dcfe9852.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"divContentImg\":\"ProfileInfo_divContentImg__3ruaB\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\",\"mainPhoto\":\"ProfileInfo_mainPhoto__1Fgjo\",\"contact\":\"ProfileInfo_contact__1N3gp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","import React, {useEffect, useState} from \"react\";\n\ntype ProfileStatusPropsType = {\n    status: string\n    updateUserStatus: (status: string) => void\n}\n\nconst ProfileStatus: React.FC<ProfileStatusPropsType> = (props) => {\n\n    const [editMode, setEditMode] = useState<boolean>(false)\n    const [status, setStatus] = useState<string>(props.status)\n\n    const activateEditModeHandler = () => setEditMode(true)\n    const deActivateEditModeHandler = () => {\n        setEditMode(false)\n        props.updateUserStatus(status)\n    }\n    const statusChangeHandler = (e: React.ChangeEvent<HTMLInputElement>) => setStatus(e.currentTarget.value)\n\n    useEffect(() => {\n        setStatus(props.status)\n    }, [props.status])\n\n    return <>\n            <b>Status: </b>\n            {editMode\n                ? <input autoFocus={true} onChange={statusChangeHandler} onBlur={deActivateEditModeHandler}\n                              value={status}/>\n                : <span onDoubleClick={activateEditModeHandler}>{props.status || '-------'}</span>}\n        </>\n\n\n}\n\nexport default ProfileStatus","import React from \"react\";\nimport {createField, InputElement, TextareaElement} from \"../../common/FormsControl/FormsControl\";\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\nimport s from './ProfileInfo.module.css'\nimport style from \"../../common/FormsControl/FormsControl.module.css\";\nimport {ResponseProfileType} from \"../../../types/types\";\n\nexport type ProfileDataFormFormDataType = {\n    fullName: string\n    lookingForAJob: boolean\n    lookingForAJobDescription: string\n    aboutMe: string\n}\n\ntype ProfileDataFormPropsType = {\n    profile: ResponseProfileType | null\n    offEditMode: () => void\n}\n\nconst ProfileDataForm: React.FC<ProfileDataFormPropsType & InjectedFormProps> = ({profile, handleSubmit,\n                                                                                     offEditMode, error}) => {\n\n    return <form onSubmit={handleSubmit}>\n        <button>save</button><button onClick={offEditMode}>cancel</button>\n        {error && <div className={style.formSummaryError}>{error}</div>}\n        <div><b>Full name</b>:\n            {createField('Full name', 'fullName', [], InputElement)}\n        </div>\n        <div><b>Looking for a job</b>:\n            {createField('Looking for a job', 'lookingForAJob', [], InputElement, {type: 'checkbox'})}\n        </div>\n        <div><b>My professional skills</b>:\n            {createField('My professional skills', 'lookingForAJobDescription', [], TextareaElement)}\n        </div>\n        <div><b>About me</b>:\n            {createField('About me', 'aboutMe', [], TextareaElement)}\n        </div>\n        <div><b>Contacts</b>: {Object.keys(profile !== null && profile.contacts).map(key => {\n            return <div key={key} className={s.contact}>\n                <b>{key}:</b>{createField(key, 'contacts.' + key.toLocaleLowerCase(), [], InputElement)}\n            </div>\n        })}</div>\n    </form>\n}\n\nconst ProfileDataReduxForm = reduxForm<any, any>({form: 'editProfile'})(ProfileDataForm)\n\nexport default ProfileDataReduxForm","import React, {useState} from \"react\";\nimport s from './ProfileInfo.module.css'\nimport {Preloader} from \"../../common/Preloader/Preloader\";\nimport ProfileStatus from \"../ProfileStatus/ProfileStatus\";\nimport userPhoto\n    from \"../../../assets/images/avatar-user-computer-icons-software-developer-png-favpng-7SbFpNeqKqhhTrrrnHFUqk6U4.jpg\";\nimport ProfileDataReduxForm, {ProfileDataFormFormDataType} from \"./ProfileDataForm\";\nimport {ResponseProfileType} from \"../../../types/types\";\n\ntype ProfileInfoPropsType = {\n    isOwner: boolean\n    profile: ResponseProfileType | null\n    status: string\n    updateUserStatus: (status: string) => void\n    onSavePhoto: (file: File) => void\n    saveProfile: (data: any) => Promise<any>\n}\n\nconst ProfileInfo: React.FC<ProfileInfoPropsType> = ({\n                                                         profile, status,\n                                                         updateUserStatus, isOwner, onSavePhoto, saveProfile\n                                                     }) => {\n    const [editMode, setEditMode] = useState<boolean>(false)\n\n    const mainPhotoSelectedHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\n        e.target.files && e.target.files.length && onSavePhoto(e.target.files[0])\n    }\n\n    const onEditMode = () => setEditMode(true)\n    const offEditMode = () => setEditMode(false)\n\n    const onSubmit = (formData: ProfileDataFormFormDataType) => {\n        saveProfile(formData).then(() => offEditMode())\n    }\n\n\n    return (\n        <div>\n            <div className={s.divContentImg}><img className='contentImg' src=\"\" alt=\"\"/></div>\n            <div className={s.descriptionBlock}>\n                {profile ? <img src={profile.photos.large || userPhoto} alt=\"profile photo\" className={s.mainPhoto}/> :\n                    <Preloader/>}\n                {isOwner && <input type=\"file\" onChange={mainPhotoSelectedHandler}/>}\n                <div><ProfileStatus status={status} updateUserStatus={updateUserStatus}/></div>\n                {editMode\n                    ? <ProfileDataReduxForm profile={profile}\n                                            onSubmit={onSubmit}\n                                            initialValues={profile}\n                                            offEditMode={offEditMode}\n                    />\n                    : <ProfileData profile={profile} isOwner={isOwner} onEditMode={onEditMode}/>\n                }\n            </div>\n        </div>\n    )\n}\n\ntype ProfileDataPropsType = {\n    profile: ResponseProfileType | null\n    isOwner: boolean\n    onEditMode: () => void\n}\nconst ProfileData: React.FC<ProfileDataPropsType> = ({profile, isOwner, onEditMode}) => {\n    return <>\n        {isOwner && <button onClick={onEditMode}>edit</button>}\n        <div><b>Full name</b>: {profile?.fullName}</div>\n        <div><b>Looking for a job</b>: {profile?.lookingForAJob ? 'yes' : 'no'}</div>\n        {profile?.lookingForAJob && <div><b>My professional skills</b>: {profile?.lookingForAJobDescription}</div>}\n        <div><b>About me</b>: {profile?.aboutMe}</div>\n        <div><b>Contacts</b>: {Object.keys(profile !== null && profile.contacts).map(key => {\n            return <Contacts key={key}\n                            contactTitle={key}\n                // @ts-ignore\n                            contactValue={profile?.contacts[key]}/>\n        })}</div>\n    </>\n}\n\ntype ContactPropsType = {\n    contactTitle: string\n    contactValue: string\n}\nexport const Contacts: React.FC<ContactPropsType> = ({contactTitle, contactValue}) => {\n    return <div className={s.contact}><b>{contactTitle}</b>: {contactValue}</div>\n}\n\nexport default ProfileInfo","import React from \"react\";\nimport s from './Post.module.css'\nimport {StateProfilePagePostsItemType} from \"../../../../redux/profilePageReducer\";\n\nfunction Post(props: StateProfilePagePostsItemType) {\n    return (\n        <div className={s.item}>\n            <img src=\"https://upload.wikimedia.org/wikipedia/ru/d/da/%D0%90%D0%B2%D0%B0%D1%82%D0%B0%D1%80_3.jpg\" alt=\"\"/>\n            {props.message}\n            <div>\n                <span>like</span> {props.likesCount}\n            </div>\n        </div>\n    )\n}\n\nexport default Post","import React from \"react\";\nimport s from './MyPosts.module.css'\nimport Post from \"./Post/Post\";\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\nimport {Element} from \"../../common/FormsControl/FormsControl\";\nimport {StateProfilePagePostsItemType} from \"../../../redux/profilePageReducer\";\n\n\nexport type MyPostsPropsType = {\n    posts: StateProfilePagePostsItemType[]\n    addPostHandler: (text: string) => void\n}\n\nfunction MyPosts(props: MyPostsPropsType) {\n\n    const onSubmit = (profileMyPostsFormData: MyPostsFormDataType) => {\n        props.addPostHandler(profileMyPostsFormData.profileMyPostsMessage)\n    }\n\n    let postsElement = props.posts.map(p => <Post key={p.id} message={p.message} likesCount={p.likesCount} id={p.id}/>).reverse()\n\n    return (\n        <div className={s.postsBlock}><h3>my posts</h3>\n            <ProfileAddMessageReduxForm onSubmit={onSubmit}/>\n            <div className={s.posts}>\n                {postsElement}\n            </div>\n        </div>\n    )\n}\n\nconst ProfileAddMessageReduxForm = reduxForm<MyPostsFormDataType>({form: 'profileMyPostsForm'})(ProfileAddMessageForm)\n\ntype MyPostsFormDataType = {\n    profileMyPostsMessage: string\n}\n\nconst maxLength10 = maxLengthCreator(10)\n\nconst TextArea = Element('textarea')\n\nfunction ProfileAddMessageForm(props: InjectedFormProps<MyPostsFormDataType>) {\n\n    return (\n        <>\n            <form onSubmit={props.handleSubmit}>\n                <div>\n                    <Field component={TextArea}\n                           name={'profileMyPostsMessage'}\n                           placeholder={'Enter your message'}\n                           validate={[required, maxLength10]}\n                    />\n                </div>\n                <div>\n                    <button>Add post</button>\n                </div>\n            </form>\n        </>\n    )\n}\n\nexport default MyPosts","import React from \"react\";\nimport {\n    ActionsProfilePageType,\n    addPostAC,\n    StateProfileObjectPageType, StateProfilePagePostsItemType\n} from \"../../../redux/profilePageReducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\ntype MapStateToPropsType = {\n    posts: StateProfilePagePostsItemType[]\n}\n\ntype MapDispatchToPropsType = {\n    addPostHandler: (text: string) => void\n}\n\nconst mapStateToProps = (state: StateProfileObjectPageType): MapStateToPropsType => {\n    return {\n        posts: state.profilePage.posts,\n    }\n}\nconst mapDispatchToProps = (dispatch: (action: ActionsProfilePageType) => void): MapDispatchToPropsType => {\n    return {\n        addPostHandler:(text: string) => dispatch(addPostAC(text)),\n    }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\n\nexport default MyPostsContainer","import React from \"react\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport {ResponseProfileType} from \"../../types/types\";\n\ntype ProfilePropsType = {\n    isOwner: boolean\n    profile: ResponseProfileType | null\n    status: string\n    updateUserStatus: (status: string) => void\n    onSavePhoto: (file: File) => void\n    saveProfile: (data: any) => Promise<any>\n}\n\nfunction Profile(props: ProfilePropsType) {\n    return (\n        <div>\n            <ProfileInfo\n                isOwner={props.isOwner}\n                profile={props.profile}\n                status={props.status}\n                updateUserStatus={props.updateUserStatus}\n                onSavePhoto={props.onSavePhoto}\n                saveProfile={props.saveProfile}\n            />\n            <MyPostsContainer/>\n        </div>\n    )\n}\n\nexport default Profile","import React from \"react\";\nimport Profile from \"./Profile\";\nimport {connect} from \"react-redux\";\nimport {\n    getUserProfile,\n    getUserStatus,\n    savePhoto, saveProfile,\n    StateProfileObjectPageType, updateUserStatus\n} from \"../../redux/profilePageReducer\";\nimport {RouteComponentProps, withRouter} from 'react-router'\nimport {compose} from \"redux\";\nimport {StateAuthObjectType} from \"../../redux/authReducer\";\nimport {ResponseProfileType} from \"../../types/types\";\n\ntype mapStateToPropsType = {\n    profile: ResponseProfileType | null\n    status: string\n    authorizedUserId: number | null\n    isAuth: boolean\n}\n\ntype mapDispatchToPropsType = {\n    getUserProfile: (userId: number | null) => void\n    getUserStatus: (userId: number | null) => void\n    updateUserStatus: (status: string) => void\n    savePhoto: (file: File) => void\n    saveProfile: (data: any) => Promise<any>\n}\n\ntype PathParamsType = {\n    userId: string\n}\n\ntype ProfileContainerPropsType = RouteComponentProps<PathParamsType>\n    & mapStateToPropsType\n    & mapDispatchToPropsType\n\nexport class ProfileContainer extends React.Component<ProfileContainerPropsType>{\n\n    refreshProfile = () => {\n        let userId = Number(this.props.match.params.userId) || null\n        if (!userId) {\n            userId = this.props.authorizedUserId\n            if (!userId) this.props.history.push('/login/')\n        }\n        this.props.getUserProfile(userId)\n        this.props.getUserStatus(userId)\n    }\n\n    componentDidMount() {\n        this.refreshProfile()\n    }\n\n    componentDidUpdate(prevProps: Readonly<ProfileContainerPropsType>, prevState: Readonly<{}>, snapshot?: any) {\n        if(this.props.match.params.userId !== prevProps.match.params.userId) this.refreshProfile()\n    }\n\n    render() {\n        return (\n            <Profile\n                isOwner={!this.props.match.params.userId}\n                profile={this.props.profile}\n                status={this.props.status}\n                updateUserStatus={this.props.updateUserStatus}\n                onSavePhoto={this.props.savePhoto}\n                saveProfile={this.props.saveProfile}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state: StateProfileObjectPageType & StateAuthObjectType): mapStateToPropsType => {\n    return {\n        profile: state.profilePage.profile,\n        status: state.profilePage.status,\n        authorizedUserId: state.auth.userId,\n        isAuth: state.auth.isAuth,\n    }\n}\n\nconst mapDispatchToProps = {\n    getUserProfile,\n    getUserStatus,\n    updateUserStatus,\n    savePhoto,\n    saveProfile,\n}\n\nexport default compose<React.FC>(\n    connect(mapStateToProps, mapDispatchToProps),\n    withRouter)\n(ProfileContainer)"],"sourceRoot":""}